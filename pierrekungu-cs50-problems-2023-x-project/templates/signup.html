<!DOCTYPE html>
<html>
<head>
    <title>Sign Up</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    </head>
<body>
    {% if get_flashed_messages() %}
        <div class="alert alert-info alert-dismissible fade show mb-0 text-center" id="flash" role="alert">
            <span> {{ message }}
            {{ get_flashed_messages() | join(" ") }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
    <div class="container">
        <div class="myCard">
            <div class="row">
                <div class="col-md-6">
                    <div class="myLeftCtn">
                        <form class="myForm text-center" action="/signup" method="post" id="form">
                            <input type="hidden" id="state" name="state" value="0">
                            <input type="hidden" id="state1" name="state1" value="0">
                            <header id="title">Create new account</header>
                            <div class="form-group">
                                <i class="fas fa-user"></i>
                                <input class="myInput" type="text" placeholder="Username" id="username" name="username" required>
                            </div>

                            <div class="form-group">
                                <div id="student_id">
                                <i class="fas fa-id-badge"></i>
                                <input class="myInput" placeholder="Student ID" type="text" id="student_id" name="student_id" required>
                                </div>
                            </div>

                            <div class="form-group">
                                <i class="fas fa-lock"></i>
                                <input class="myInput" type="password" id="password" name="password" placeholder="Password" required>
                            </div>

                            <div class="form-group">
                                <div id="confirmation">
                                    <i class="fas fa-lock"></i>
                                    <input class="myInput" type="password" id="confirmation" name="confirmation" placeholder="Confirm Password" required>
                                </div>
                            </div>
                            <div class="btn-field">
                                    <input type="submit" class="butt" id="signup" value="Sign up">
                                    <input type="submit" class="butt-disable" id="signin" value="Sign in">
                            </div>
                            <div class="form-select1">
                                <div id="select">
                                    <select name="status" class="select" id="select">
                                        <option value="student">Student</option>
                                        <option value="admin">Administrator</option>
                                </select>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="myRightCtn">
                            <div class="box"><header>Sidney Sheldon</header>

                            <p>"Libraries store the energy that fuels the imagination.
                                They open up windows to the world and inspire us to explore and achieve,
                                and contribute to improving our quality of life."
                            </p>
                    </div>
                </div>
            </div>
        </div>
</div>

<script>
    let signup = document.getElementById("signup");
    let signin = document.getElementById("signin");
    let student_id = document.getElementById("student_id");
    let confirmation = document.getElementById("confirmation");
    let title = document.getElementById("title");
    let select = document.getElementById("select");
    let x = 0;
    var selectedForm = document.getElementById("form");

    signin.onclick = function(){
        student_id.style.display = "none";
        confirmation.style.display = "none";
        select.style.display = "none";
        title.innerHTML = "Sign In";
        signin.classList.remove("butt-disable");
        signin.classList.add("butt");
        signup.classList.remove("butt");
        signup.classList.add("butt-disable");
        document.getElementById('state').value = "1";

        let state = document.getElementById('state').value;
        let state1 = document.getElementById('state1').value;

        if (state == 1) {
            document.getElementById('state1').value = "1"
        }
        if (state == 1 && state1 == 1) {
            selectedForm.submit();
        }
    }

    signup.onclick = function(){
        student_id.style.display = "block";
        confirmation.style.display = "block";
        select.style.display = "block";
        title.innerHTML = "Create New Account";
        signin.classList.remove("butt");
        signin.classList.add("butt-disable");
        signup.classList.remove("butt-disable");
        signup.classList.add("butt");
        document.getElementById('state').value = "0";

        let state = document.getElementById('state').value;

        if (state == 0) {
            document.getElementById('state1').value = "0"
        }
        if (state == 0 && state1 == 0) {
            selectedForm.submit();
        }
    }

</script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>

</body>
</html>
